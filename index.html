
50, 00.15-00.19
100, 00.20-00.24
300, 00.25-00.29
400, 00.30-00.34
500, 00.35-00.39
<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>31 Marché - 2piece vintage</title>

  <!-- Vintage / elegant fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --dark-red: #7b1e1e;
      --navy: #06283d;
      --cream: #f7efe6;
      --brown: #6b4c3b;
      --muted: #9b8f87;
      --card-shadow: 0 6px 18px rgba(10,10,10,0.12);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Montserrat", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, var(--cream) 0%, #fff 100%);
      color: #222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding-bottom:60px;
    }

    /* Header */
    header{
      background: linear-gradient(90deg, var(--dark-red), var(--navy));
      color: var(--cream);
      padding:28px 18px;
      border-bottom: 6px solid var(--brown);
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .logo{
      width:60px; height:60px;
      border-radius:8px;
      background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
      display:flex;align-items:center;justify-content:center;
      font-family:"Playfair Display", serif;
      font-size:20px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      border:1px solid rgba(255,255,255,0.06);
    }
    .brand h1{margin:0;font-family:"Playfair Display",serif;font-weight:700;font-size:20px}
    .brand p{margin:0;font-size:13px;color:rgba(255,255,255,0.85)}

    nav{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .btn{
      padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:600;
      background:var(--cream); color:var(--navy);
      box-shadow: var(--card-shadow);
    }
    .btn.ghost{background:transparent;color:var(--cream);border:1px solid rgba(255,255,255,0.12)}
    .btn.primary{background:var(--dark-red); color:var(--cream)}
    .btn.small{padding:6px 8px;font-size:13px;border-radius:6px}

    /* Hero */
    .hero{
      padding:28px 18px;
      display:flex;
      gap:20px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .hero-left{max-width:760px}
    .kicker{color:var(--muted);font-size:13px;margin-bottom:6px}
    .hero h2{margin:0;font-family:"Playfair Display",serif;font-size:36px;color:var(--navy)}
    .hero p{color:#444;max-width:680px;margin-top:10px;line-height:1.6}

    /* Catalog grid */
    .catalog{
      padding:18px;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap:18px;
      max-width:1200px;
      margin:0 auto 40px;
    }
    .card{
      background: #fff;
      border-radius:10px;
      box-shadow: var(--card-shadow);
      overflow:hidden;
      border:1px solid rgba(0,0,0,0.04);
      position:relative;
      display:flex;
      flex-direction:column;
    }
    .product-image{
      width:100%;
      aspect-ratio: 4 / 3;
      object-fit:cover;
      display:block;
      background:linear-gradient(180deg, #eee, #ddd);
    }
    .card-body{padding:12px;flex:1;display:flex;flex-direction:column;gap:8px}
    .title{font-weight:600;color:var(--navy);font-size:16px}
    .price{font-weight:700;color:var(--dark-red)}
    .desc{font-size:13px;color:var(--muted);flex:1}
    .card-footer{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:12px;border-top:1px dashed rgba(0,0,0,0.04)}
    .edit-btn{background:transparent;border:none;color:var(--brown);cursor:pointer;font-weight:600}

    /* edit overlay */
    .edit-mode-banner{
      max-width:1200px;margin:0 auto 12px;padding:10px 18px;border-radius:8px;
      background:linear-gradient(90deg, rgba(123,30,30,0.06), rgba(6,40,61,0.04));
      border:1px solid rgba(107,76,59,0.06);
      color:var(--brown); display:flex;align-items:center;justify-content:space-between; gap:12px;
    }

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;padding:18px;z-index:60}
    .modal{background:var(--cream);border-radius:10px;padding:18px;max-width:720px;width:100%;box-shadow:0 18px 50px rgba(0,0,0,0.35);border:1px solid rgba(0,0,0,0.06)}
    .modal h3{margin:0 0 8px 0;font-family:"Playfair Display",serif;color:var(--navy)}
    .form-row{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
    .form-row input[type="text"], .form-row input[type="number"], textarea{
      width:100%; padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.08);font-size:14px;
    }
    .thumb-preview{width:160px;height:120px;border-radius:8px;object-fit:cover;border:1px solid rgba(0,0,0,0.06)}
    .controls{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}

    footer{padding:20px 18px;background:transparent;border-top:1px solid rgba(0,0,0,0.04);margin-top:40px;text-align:center;color:var(--muted)}
    @media (max-width:720px){
      .hero h2{font-size:28px}
    }
  </style>
</head>
<body>

  <header>
    <div class="brand">
      <div class="logo">31M</div>
      <div>
        <h1>31 Marché</h1>
        <p>2piece vintage — curated vintage & classic pieces</p>
      </div>
    </div>

    <nav>
      <button id="btnToggleEdit" class="btn small ghost">Edit Catalog</button>
      <button id="btnAdd" class="btn small">+ Add Product</button>
      <button id="btnExport" class="btn small">Export</button>
      <button id="btnImportOpen" class="btn small">Import</button>
      <a class="btn" href="#catalog">Lihat Katalog</a>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-left">
      <div class="kicker">Vintage classics — limited pieces</div>
      <h2>31 Marché — 2piece vintage</h2>
      <p>Selamat datang di katalogku. Aku pilih warna & bahan yang klasik, model diseleksi khusus supaya terasa elegan dan awet. Kamu bisa lihat koleksi, atau klik "Edit Catalog" kalau mau ganti foto / harga produk langsung dari browser.</p>
    </div>
    <div style="min-width:280px; max-width:360px; text-align:right;">
      <div style="background:#fff;padding:12px;border-radius:12px;box-shadow:var(--card-shadow);border:1px solid rgba(0,0,0,0.04)">
        <strong style="color:var(--navy);">Tema</strong>
        <div style="display:flex;gap:8px;margin-top:8px;justify-content:flex-end">
          <div style="width:28px;height:28px;border-radius:6px;background:var(--dark-red)"></div>
          <div style="width:28px;height:28px;border-radius:6px;background:var(--navy)"></div>
          <div style="width:28px;height:28px;border-radius:6px;background:var(--cream);border:1px solid rgba(0,0,0,0.04)"></div>
          <div style="width:28px;height:28px;border-radius:6px;background:var(--brown)"></div>
        </div>
      </div>
    </div>
  </section>

  <div id="editBanner" class="edit-mode-banner" style="display:none;">
    <div>
      <strong>Edit Mode Aktif</strong>
      <div style="font-size:13px;color:var(--muted)">Klik ikon edit pada tiap produk untuk mengganti foto, nama, harga, dan deskripsi. Perubahan tersimpan di browser kamu.</div>
    </div>
    <div style="display:flex;gap:8px;align-items:center">
      <button id="btnExport2" class="btn small">Export</button>
      <button id="btnImport2" class="btn small">Import</button>
      <button id="btnCloseEdit" class="btn small ghost">Close</button>
    </div>
  </div>

  <main id="catalog" class="catalog" aria-live="polite">
    <!-- product cards injected here -->
  </main>

  <!-- modal -->
  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-hidden="true">
    <div class="modal" role="document" aria-modal="true">
      <h3 id="modalTitle">Edit Product</h3>
      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <div style="flex:1;min-width:220px">
          <label style="font-size:13px;color:var(--muted)">Nama produk</label>
          <input id="pName" type="text" placeholder="Nama produk..." />
          <label style="font-size:13px;color:var(--muted);margin-top:8px;display:block">Harga (Rp)</label>
          <input id="pPrice" type="number" placeholder="190000" />
          <label style="font-size:13px;color:var(--muted);margin-top:8px;display:block">Deskripsi</label>
          <textarea id="pDesc" rows="4" placeholder="Deskripsi singkat..." style="width:100%"></textarea>
        </div>
        <div style="min-width:180px;display:flex;flex-direction:column;gap:8px;align-items:center">
          <img id="thumbPreview" class="thumb-preview" src="" alt="preview" />
          <input id="pImageFile" type="file" accept="image/*" />
          <div style="font-size:13px;color:var(--muted);text-align:center">Ukuran file tidak usah besar — disarankan &lt;1MB</div>
        </div>
      </div>

      <div class="controls">
        <button id="btnDelete" class="btn small ghost" style="display:none;background:transparent;color:var(--brown)">Hapus Produk</button>
        <div style="flex:1"></div>
        <button id="btnCancel" class="btn small ghost">Batal</button>
        <button id="btnSave" class="btn primary">Simpan</button>
      </div>
    </div>
  </div>

  <footer>
    © <span id="year"></span> 31 Marché — 2piece vintage · simple demo (local edit via browser)
  </footer>

<script>
/*
  Simple catalog manager stored in localStorage.
  - Products saved as array in key 'catalog_31marche'
  - Image files saved as base64 data URLs (works for small number of products)
  - Export / Import enabled
*/

const STORAGE_KEY = 'catalog_31marche_v1';

/* Default sample products (name, price (number), desc, image dataURL (will be generated placeholder)) */
const DEFAULT_PRODUCTS = [
  {id: genId(), name: "Ruffle Midi Dress - Burgundy", price: 299000, desc: "Dress vintage with ruffle detail, breathable cotton blend.", img: placeholderDataURL('#7b1e1e')},
  {id: genId(), name: "Double-breasted Coat - Navy", price: 499000, desc: "Classic wool-look coat with timeless silhouette.", img: placeholderDataURL('#06283d')},
  {id: genId(), name: "High-waist Pleat Skirt - Cream", price: 219000, desc: "Pleated skirt, comfy and elegant for daily wear.", img: placeholderDataURL('#f7efe6')},
  {id: genId(), name: "Leather-like Belt - Brown", price: 129000, desc: "Adjustable belt, perfect for vintage styling.", img: placeholderDataURL('#6b4c3b')}
];

let products = [];
let editMode = false;
let editingProductId = null;

document.addEventListener('DOMContentLoaded', ()=> {
  document.getElementById('year').textContent = new Date().getFullYear();
  loadProducts();
  renderCatalog();

  // UI handlers
  document.getElementById('btnToggleEdit').addEventListener('click', ()=> toggleEdit(true));
  document.getElementById('btnCloseEdit').addEventListener('click', ()=> toggleEdit(false));
  document.getElementById('btnAdd').addEventListener('click', ()=> openModalForNew());
  document.getElementById('btnExport').addEventListener('click', ()=> exportCatalog());
  document.getElementById('btnExport2').addEventListener('click', ()=> exportCatalog());
  document.getElementById('btnImportOpen').addEventListener('click', ()=> openImportPrompt());
  document.getElementById('btnImport2').addEventListener('click', ()=> openImportPrompt());

  // modal
  const modal = document.getElementById('modalBackdrop');
  document.getElementById('btnCancel').addEventListener('click', ()=> closeModal());
  document.getElementById('btnSave').addEventListener('click', ()=> saveModal());
  document.getElementById('btnDelete').addEventListener('click', ()=> deleteProductConfirm());
  document.getElementById('pImageFile').addEventListener('change', handleImageFile);

  // import file drop-in (simple)
  window.addEventListener('paste', (ev)=> {
    // support paste JSON text for import
    const txt = (ev.clipboardData && ev.clipboardData.getData) ? ev.clipboardData.getData('text/plain') : '';
    if(txt && txt.trim().startsWith('[')) {
      // try parse
      try{
        const arr = JSON.parse(txt);
        if(Array.isArray(arr)) {
          if(confirm('Temukan data katalog di clipboard. Import dan timpa katalog saat ini?')) {
            products = arr;
            saveProducts();
            renderCatalog();
            alert('Import berhasil.');
          }
        }
      }catch(e){}
    }
  });
});

/* helpers */
function genId(){ return 'p_' + Math.random().toString(36).slice(2,9); }

function placeholderDataURL(hex){
  // simple SVG placeholder with color
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='800' height='600'><rect width='100%' height='100%' fill='${hex}'/><text x='50%' y='50%' font-family='Playfair Display, serif' font-size='36' fill='rgba(255,255,255,0.92)' dominant-baseline='middle' text-anchor='middle'>31 Marché</text></svg>`;
  return 'data:image/svg+xml;base64,' + btoa(svg);
}

function loadProducts(){
  try {
    const raw = localStorage.getItem(STORAGE_KEY);
    if(raw){
      products = JSON.parse(raw);
    } else {
      products = DEFAULT_PRODUCTS;
      saveProducts();
    }
  } catch(e){
    console.error('load error', e);
    products = DEFAULT_PRODUCTS;
  }
}

function saveProducts(){
  localStorage.setItem(STORAGE_KEY, JSON.stringify(products));
}

function renderCatalog(){
  const main = document.getElementById('catalog');
  main.innerHTML = '';
  products.forEach(p => {
    const card = document.createElement('article');
    card.className = 'card';
    card.innerHTML = `
      <img class="product-image" src="${escapeHtml(p.img)}" alt="${escapeHtml(p.name)}" />
      <div class="card-body">
        <div class="title">${escapeHtml(p.name)}</div>
        <div class="price">Rp ${formatNumber(p.price)}</div>
        <div class="desc">${escapeHtml(p.desc)}</div>
      </div>
      <div class="card-footer">
        <div style="font-size:13px;color:var(--muted)">${p.id}</div>
        <div>
          <button class="edit-btn" data-id="${p.id}" title="Edit">✎ Edit</button>
          <button class="edit-btn" data-id="${p.id}" title="Buy">👜</button>
        </div>
      </div>
    `;
    main.appendChild(card);
  });

  // attach edit handlers
  document.querySelectorAll('.edit-btn').forEach(btn => {
    btn.addEventListener('click', (e)=>{
      const id = e.currentTarget.getAttribute('data-id');
      if(editMode) openModalForEdit(id);
      else {
        // placeholder: open quick buy (for demo)
        if(e.currentTarget.textContent.trim().startsWith('✎')) {
          // do nothing when not in editMode
        } else {
          alert('Fitur beli demo: hubungi: +62-812-XXXX (dummy).');
        }
      }
    });
  });

  // show or hide edit icons depending on editMode
  document.querySelectorAll('.edit-btn').forEach(b=>{
    b.style.display = editMode ? 'inline-block' : 'none';
  });

}

/* Edit mode toggle */
function toggleEdit(on){
  editMode = (typeof on === 'boolean') ? on : !editMode;
  document.getElementById('editBanner').style.display = editMode ? 'flex' : 'none';
  document.getElementById('btnToggleEdit').textContent = editMode ? 'Exit Edit' : 'Edit Catalog';
  document.getElementById('btnAdd').style.display = editMode ? 'inline-block' : 'inline-block';
  renderCatalog();
  // show edit icons if editMode
  document.querySelectorAll('.edit-btn').forEach(b=>{
    b.style.display = editMode ? 'inline-block' : 'none';
  });
}

/* Modal functions */
function openModalForEdit(id){
  editingProductId = id;
  const p = products.find(x=>x.id===id);
  if(!p) return;
  document.getElementById('modalTitle').textContent = 'Edit Produk';
  document.getElementById('pName').value = p.name;
  document.getElementById('pPrice').value = p.price;
  document.getElementById('pDesc').value = p.desc;
  document.getElementById('thumbPreview').src = p.img;
  document.getElementById('pImageFile').value = '';
  document.getElementById('btnDelete').style.display = 'inline-block';
  openModal();
}
function openModalForNew(){
  editingProductId = null;
  document.getElementById('modalTitle').textContent = 'Tambah Produk Baru';
  document.getElementById('pName').value = '';
  document.getElementById('pPrice').value = '';
  document.getElementById('pDesc').value = '';
  document.getElementById('thumbPreview').src = placeholderDataURL('#ddd');
  document.getElementById('pImageFile').value = '';
  document.getElementById('btnDelete').style.display = 'none';
  openModal();
}
function openModal(){
  const mb = document.getElementById('modalBackdrop');
  mb.style.display = 'flex';
  mb.setAttribute('aria-hidden','false');
}
function closeModal(){
  const mb = document.getElementById('modalBackdrop');
  mb.style.display = 'none';
  mb.setAttribute('aria-hidden','true');
  editingProductId = null;
}

/* handle image file -> preview + convert to base64 */
let latestImageData = null;
function handleImageFile(ev){
  const f = ev.target.files && ev.target.files[0];
  if(!f) return;
  const reader = new FileReader();
  reader.onload = function(e){
    latestImageData = e.target.result;
    document.getElementById('thumbPreview').src = latestImageData;
  };
  reader.readAsDataURL(f);
}

/* save modal */
function saveModal(){
  const name = document.getElementById('pName').value.trim() || 'Unnamed';
  const price = Number(document.getElementById('pPrice').value) || 0;
  const desc = document.getElementById('pDesc').value.trim() || '';
  const img = latestImageData || document.getElementById('thumbPreview').src || placeholderDataURL('#ddd');

  if(editingProductId){
    const idx = products.findIndex(x=>x.id===editingProductId);
    if(idx>=0){
      products[idx].name = name;
      products[idx].price = price;
      products[idx].desc = desc;
      products[idx].img = img;
    }
  } else {
    const newP = {id: genId(), name, price, desc, img};
    products.unshift(newP); // add to front
  }
  latestImageData = null;
  saveProducts();
  renderCatalog();
  closeModal();
}

/* delete product */
function deleteProductConfirm(){
  if(!editingProductId) return;
  if(!confirm('Hapus produk ini? Tindakan ini tidak bisa dibatalkan.')) return;
  products = products.filter(p => p.id !== editingProductId);
  saveProducts();
  renderCatalog();
  closeModal();
}

/* Export / Import */
function exportCatalog(){
  const dataStr = JSON.stringify(products, null, 2);
  const blob = new Blob([dataStr], {type: 'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'catalog_31marche.json';
  document.body.appendChild(a); a.click(); a.remove();
  URL.revokeObjectURL(url);
}

function openImportPrompt(){
  const input = document.createElement('input');
  input.type = 'file';
  input.accept = 'application/json';
  input.addEventListener('change', async (e)=>{
    const f = e.target.files[0];
    if(!f) return;
    try{
      const txt = await f.text();
      const arr = JSON.parse(txt);
      if(!Array.isArray(arr)) throw new Error('Invalid JSON');
      if(!confirm('Import akan menimpa katalog saat ini. Lanjutkan?')) return;
      products = arr;
      saveProducts();
      renderCatalog();
      alert('Import berhasil.');
    }catch(err){
      alert('Gagal import: ' + err.message);
    }
  });
  input.click();
}

/* tiny helpers */
function formatNumber(num){
  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}
function escapeHtml(s){
  if(!s) return '';
  return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

</script>

</body>
</html>
